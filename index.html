<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>אלופים לעת זקנה</title>
  <style>
    :root {
      --primary-blue: #1e3a8a;
      --light-blue: #3b82f6;
      --primary-white: #ffffff;
      --accent-olive: #65a30d;
      --light-olive: #84cc16;
      --text-color: #1f2937;
      --text-light: #6b7280;
      --focus-outline: 3px solid #f59e0b;
      --font-base: 1rem;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }

    /* Enhanced cross-browser compatibility */
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
    }

    *:focus { 
      outline: none; 
      box-shadow: 0 0 0 var(--focus-outline);
      border-radius: 4px;
    }

    html {
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    html, body {
      direction: rtl;
      text-align: right;
      min-height: 100vh;
      font-size: var(--font-base);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%);
      color: var(--text-color);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* Animated background elements */
    .bg-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
      pointer-events: none;
    }

    .shape {
      position: absolute;
      opacity: 0.1;
      animation: float 6s ease-in-out infinite;
    }

    .shape:nth-child(1) {
      top: 10%;
      right: 10%;
      width: 60px;
      height: 60px;
      background: var(--accent-olive);
      border-radius: 50%;
      animation-delay: 0s;
    }

    .shape:nth-child(2) {
      top: 70%;
      right: 80%;
      width: 40px;
      height: 40px;
      background: var(--light-blue);
      border-radius: 50%;
      animation-delay: 2s;
    }

    .shape:nth-child(3) {
      top: 30%;
      right: 70%;
      width: 80px;
      height: 80px;
      background: var(--primary-blue);
      border-radius: 50%;
      animation-delay: 4s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    /* Header with modern glassmorphism effect */
    /* Cross-browser gradient and backdrop-filter fallbacks */
    header {
      background: rgba(30, 58, 138, 0.9);
      background: -webkit-linear-gradient(rgba(30, 58, 138, 0.9), rgba(30, 58, 138, 0.95));
      background: -moz-linear-gradient(rgba(30, 58, 138, 0.9), rgba(30, 58, 138, 0.95));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: #fff;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--shadow-lg);
      position: sticky;
      position: -webkit-sticky;
      top: 0;
      z-index: 100;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    header h1 { 
      font-size: 1.8rem; 
      font-weight: 700;
      background: linear-gradient(45deg, #fff, #bae6fd);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Enhanced accessibility menu */
    /* Enhanced sticky accessibility with better positioning */
    .accessibility-wrapper {
      position: relative;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .accessibility-wrapper.sticky {
      position: fixed !important;
      top: 20px !important;
      left: 20px !important;
      z-index: 1000 !important;
      transform: scale(1.1);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 6px;
      animation: bounceIn 0.5s ease;
    }

    @keyframes bounceIn {
      0% { 
        opacity: 0; 
        transform: scale(0.3) translateY(-20px); 
      }
      50% { 
        opacity: 1; 
        transform: scale(1.15) translateY(0); 
      }
      100% { 
        opacity: 1; 
        transform: scale(1.1) translateY(0); 
      }
    }

    .accessibility-wrapper.sticky #accessibilityBtn {
      box-shadow: 0 6px 20px rgba(101, 163, 13, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .accessibility-wrapper.sticky #accessibilityBtn:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 10px 30px rgba(101, 163, 13, 0.5);
    }

    .accessibility-wrapper.sticky .accessibility-menu {
      left: 0;
      right: auto;
      top: 100%;
      margin-top: 10px;
    }

    #accessibilityBtn {
      background: linear-gradient(45deg, var(--accent-olive), var(--light-olive));
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      font-weight: 500;
      position: relative;
    }

    #accessibilityBtn::after {
      content: '▼';
      margin-left: 0.5rem;
      transition: transform 0.3s ease;
    }

    .accessibility-wrapper.open #accessibilityBtn::after {
      transform: rotate(180deg);
    }

    #accessibilityBtn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .accessibility-menu {
      position: absolute;
      top: 110%;
      right: 0;
      background: rgba(255, 255, 255, 0.98);
      background: -webkit-linear-gradient(rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 2px solid rgba(59, 130, 246, 0.2);
      border-radius: 12px;
      list-style: none;
      padding: 0.8rem 0;
      margin: 0;
      display: none;
      box-shadow: var(--shadow-xl);
      z-index: 10;
      min-width: 220px;
      animation: slideDown 0.3s ease;
      -webkit-animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .accessibility-wrapper.open .accessibility-menu {
      display: block;
    }

    .accessibility-menu li {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      border-radius: 8px;
      margin: 0 0.5rem;
      color: var(--text-color);
      background: rgba(255, 255, 255, 0.1);
    }

    .accessibility-menu li:hover {
      background: linear-gradient(45deg, var(--accent-olive), var(--light-olive));
      color: #fff;
      transform: translateX(-5px);
    }

    /* Hero section with improved design */
    .hero-section {
      text-align: center;
      padding: 3rem 1rem;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(240, 249, 255, 0.8));
      backdrop-filter: blur(10px);
      margin: 2rem;
      border-radius: 20px;
      box-shadow: var(--shadow-xl);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .hero-icon {
      margin-bottom: 2rem;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .hero-icon .icon-placeholder {
      width: 120px;
      height: 120px;
      background: linear-gradient(45deg, var(--primary-blue), var(--light-blue));
      border-radius: 50%;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: white;
      box-shadow: var(--shadow-lg);
    }

    /* Main content area */
    main {
      max-width: 800px;
      width: 100%;
      margin: 0 auto;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    /* Star of David shadow background */
    .star-of-david-shadow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      opacity: 0.03;
      pointer-events: none;
      z-index: 1;
    }

    .star-of-david-shadow::before,
    .star-of-david-shadow::after {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-left: 40px solid transparent;
      border-right: 40px solid transparent;
    }

    .star-of-david-shadow::before {
      border-bottom: 70px solid rgba(30, 58, 138, 0.15);
      top: 0;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
    }

    .star-of-david-shadow::after {
      border-top: 70px solid rgba(30, 58, 138, 0.15);
      bottom: 0;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
    }

    /* Enhanced sections with Star of David background */
    section {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: var(--shadow-lg);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    section::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
      background: 
        linear-gradient(60deg, transparent 35%, rgba(30, 58, 138, 0.02) 35%, rgba(30, 58, 138, 0.02) 65%, transparent 65%),
        linear-gradient(-60deg, transparent 35%, rgba(30, 58, 138, 0.02) 35%, rgba(30, 58, 138, 0.02) 65%, transparent 65%);
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      filter: drop-shadow(4px 4px 12px rgba(30, 58, 138, 0.08));
      opacity: 0.6;
      pointer-events: none;
      z-index: 1;
    }

    section > * {
      position: relative;
      z-index: 2;
    }

    section:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
    }

    h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      background: linear-gradient(45deg, var(--primary-blue), var(--light-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }

    .message-box {
      background: linear-gradient(45deg, var(--accent-olive), var(--light-olive));
      color: #fff;
      padding: 1.5rem;
      border-radius: 12px;
      text-align: center;
      font-weight: 500;
      box-shadow: var(--shadow-md);
      font-size: 1.1rem;
    }

    /* Enhanced list styling */
    .highlight-list {
      list-style: none;
      padding: 0;
      display: grid;
      gap: 1rem;
    }

    .highlight-list li {
      padding: 1.2rem 4rem 1.2rem 1rem;
      position: relative;
      background: linear-gradient(135deg, #f8fafc, #f1f5f9);
      border-radius: 12px;
      border-left: 4px solid var(--accent-olive);
      transition: all 0.3s ease;
      font-weight: 500;
      box-shadow: var(--shadow-sm);
      line-height: 1.8;
      margin-bottom: 0.8rem;
    }

    .highlight-list li::before {
      content: '✓';
      position: absolute;
      right: 1.2rem;
      top: 50%;
      transform: translateY(-50%);
      width: 1.5rem;
      height: 1.5rem;
      background: linear-gradient(45deg, var(--accent-olive), var(--light-olive));
      border-radius: 50%;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: bold;
      flex-shrink: 0;
    }

    .highlight-list li:hover {
      transform: translateX(-10px);
      box-shadow: var(--shadow-md);
      background: linear-gradient(135deg, #ffffff, #f8fafc);
    }

    /* Modern form styling */
    form {
      display: grid;
      gap: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    label {
      font-weight: 600;
      color: var(--text-color);
      font-size: 0.95rem;
    }

    /* Enhanced input styling with cross-browser support */
    input, textarea {
      padding: 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s ease;
      -webkit-transition: all 0.3s ease;
      -moz-transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      font-family: inherit;
      width: 100%;
      max-width: 100%;
    }

    input:focus, textarea:focus {
      border-color: var(--light-blue);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
      -webkit-transform: translateY(-2px);
      -moz-transform: translateY(-2px);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    input:invalid {
      border-color: #ef4444;
    }

    /* Enhanced submit button */
    button[type="submit"] {
      background: linear-gradient(45deg, var(--primary-blue), var(--light-blue));
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-md);
      position: relative;
      overflow: hidden;
    }

    button[type="submit"]:not(:disabled):hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    button[type="submit"]:disabled {
      background: linear-gradient(45deg, #9ca3af, #6b7280);
      cursor: not-allowed;
      transform: none;
    }

    /* Enhanced captcha */
    .captcha {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 1rem 0;
      padding: 1rem;
      background: linear-gradient(135deg, #f8fafc, #f1f5f9);
      border-radius: 12px;
      border: 2px dashed #d1d5db;
    }

    .captcha-icon {
      font-size: 2.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 1rem;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.7);
      box-shadow: var(--shadow-sm);
    }

    .captcha-icon:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: var(--shadow-md);
    }

    .captcha-icon[aria-pressed="true"] {
      transform: scale(1.2);
      background: linear-gradient(45deg, var(--accent-olive), var(--light-olive));
      box-shadow: var(--shadow-lg);
      animation: success 0.5s ease;
    }

    @keyframes success {
      0% { transform: scale(1.2); }
      50% { transform: scale(1.4); }
      100% { transform: scale(1.2); }
    }

    /* Footer */
    footer {
      background: rgba(30, 58, 138, 0.9);
      backdrop-filter: blur(10px);
      color: #fff;
      padding: 2rem;
      text-align: center;
      margin-top: 3rem;
      box-shadow: var(--shadow-lg);
    }

    footer a {
      color: #bae6fd;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    footer a:hover {
      color: #ffffff;
    }

    /* Enhanced responsive design */
    @media (max-width: 768px) {
      .accessibility-wrapper {
        position: fixed;
        top: 15px;
        left: 15px;
        z-index: 1000;
      }

      .accessibility-wrapper.header-mode {
        position: relative;
        top: auto;
        left: auto;
        z-index: auto;
      }

      header {
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
      }

      header h1 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem;
      }

      .hero-section {
        margin: 1rem;
        padding: 2rem 1rem;
      }

      .hero-icon .icon-placeholder {
        width: 100px;
        height: 100px;
        font-size: 2.5rem;
      }

      section {
        padding: 1.5rem;
      }

      h2 {
        font-size: 1.3rem;
      }

      .highlight-list li {
        padding: 1rem 3rem 1rem 0.8rem;
        font-size: 0.95rem;
      }

      .highlight-list li::before {
        right: 0.8rem;
        width: 1.3rem;
        height: 1.3rem;
        font-size: 0.7rem;
      }

      .captcha {
        gap: 1rem;
        flex-wrap: wrap;
      }

      .captcha-icon {
        font-size: 2rem;
        padding: 0.5rem;
      }

      .accessibility-menu {
        min-width: 180px;
        font-size: 0.9rem;
      }

      .accessibility-menu li {
        padding: 0.6rem 1rem;
      }
    }

    @media (max-width: 480px) {
      :root {
        --font-base: 0.9rem;
      }

      header h1 {
        font-size: 1.2rem;
      }

      .hero-section {
        margin: 0.5rem;
        padding: 1.5rem 0.8rem;
      }

      .hero-icon .icon-placeholder {
        width: 80px;
        height: 80px;
        font-size: 2rem;
      }

      section {
        padding: 1rem;
      }

      h2 {
        font-size: 1.2rem;
      }

      .highlight-list li {
        padding: 0.8rem 2.5rem 0.8rem 0.6rem;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      .highlight-list li::before {
        right: 0.6rem;
        width: 1.2rem;
        height: 1.2rem;
        font-size: 0.6rem;
      }

      .captcha-icon {
        font-size: 1.8rem;
        padding: 0.4rem;
      }

      .accessibility-menu {
        min-width: 160px;
        font-size: 0.85rem;
      }

      .form-group label {
        font-size: 0.9rem;
      }

      input, textarea {
        padding: 0.8rem;
        font-size: 0.9rem;
      }

      button[type="submit"] {
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
      }
    }

    @media (max-width: 320px) {
      .highlight-list li {
        padding: 0.8rem 2rem 0.8rem 0.5rem;
        font-size: 0.85rem;
      }

      .highlight-list li::before {
        right: 0.4rem;
      }

      .captcha {
        gap: 0.5rem;
      }

      .captcha-icon {
        font-size: 1.5rem;
        padding: 0.3rem;
      }
    }

    /* Loading animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid #ffffff;
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="bg-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
  </div>

  <header>
    <h1>🛡️ אלופים לעת זקנה</h1>
    <div class="accessibility-wrapper" id="accWrap">
      <button id="accessibilityBtn" aria-haspopup="true">⚙️ אפשרויות נגישות</button>
      <ul class="accessibility-menu">
        <li>🔍 הגדלת גופן</li>
        <li>🔍 הקטנת גופן</li>
        <li>🌓 ניגודיות גבוהה</li>
        <li>🔄 היפוך צבעים</li>
        <li>📏 ריווח בין שורות</li>
        <li>📝 תת-כותרות בולטות</li>
        <li>🔗 קו תחתון לקישורים</li>
        <li>🎯 מיקוד סימן עכבר</li>
        <li>📢 סמן מוקרן</li>
        <li>🔘 הדגשת כפתורים</li>
        <li>🌙 מצב לילה</li>
        <li style="border-top: 1px solid #e5e7eb; margin-top: 0.5rem; padding-top: 0.75rem;">🔄 איפוס הכל</li>
      </ul>
    </div>
  </header>

  <div class="hero-section">
    <div class="hero-icon">
      <div class="icon-placeholder">🏆</div>
    </div>
    <div class="message-box">
      <h2 style="color: white; margin-bottom: 0.5rem;">הציעו לכם הצעה שנשמעת מעניינת?</h2>
      <p style="margin: 0; font-size: 1.1rem;">קבלו ייעוץ מקצועי חינמי ללא התחייבות מהמומחים שלנו</p>
    </div>
  </div>

  <main>
    <section>
      <h2>💡 דוגמאות של מקרים שהצלחנו להציל אנשים</h2>
      <ul id="casesList" class="highlight-list"></ul>
    </section>

    <section>
      <h2>📞 פנו אלינו לפני כל החלטה</h2>
      <p style="color: var(--text-light); margin-bottom: 1.5rem;">
        הייעוץ שלנו חינמי לחלוטין ואנחנו כאן כדי לעזור לכם לקבל החלטות נכונות
      </p>
      <form id="contactForm" novalidate>
        <div class="form-group">
          <label for="name">👤 שם מלא *</label>
          <input type="text" id="name" name="name" required placeholder="הכניסו את שמכם המלא">
        </div>
        
        <div class="form-group">
          <label for="phone">📱 טלפון *</label>
          <input type="tel" id="phone" name="phone" required placeholder="050-1234567">
        </div>
        
        <div class="form-group">
          <label for="email">📧 אימייל (לא חובה)</label>
          <input type="email" id="email" name="email" placeholder="your@email.com">
        </div>
        
        <div class="form-group">
          <label for="details">📝 פרטי ההצעה החשודה *</label>
          <textarea id="details" name="details" rows="4" required placeholder="אנא תאר/י את ההצעה שקיבלת בפירוט - כל פרט יכול להיות חשוב"></textarea>
        </div>
        
        <div class="form-group">
          <label>🤖 אישור אבטחה - לחץ על סמל הלב בלבד:</label>
          <div id="captcha" class="captcha" role="group"></div>
        </div>
        
        <button type="submit" id="submitBtn" disabled>
          <span id="submitText">📤 שלח פנייה</span>
        </button>
      </form>
    </section>
  </main>

  <footer>
    <p>🛠️ נוצר ע"י מוטי קלימי - <a href="mailto:djmotti@gmail.com">djmotti@gmail.com</a></p>
    <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
      🔒 המידע שלכם מוגן ולא יועבר לצדדים שלישיים
    </p>
  </footer>

  <script>
    // Accessibility toggle with enhanced animation
    document.getElementById('accessibilityBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      document.getElementById('accWrap').classList.toggle('open');
    });

    // Close accessibility menu when clicking outside
    document.addEventListener('click', (e) => {
      const accWrap = document.getElementById('accWrap');
      if (!accWrap.contains(e.target)) {
        accWrap.classList.remove('open');
      }
    });
    
    // Enhanced cases pool with more variety
    const allCases = [
      "יוסי (67) עצר השקעה בריבית כפולה - חסך 180,000 ₪ 💰",
      "רחל (72) זיהתה הטבת מס חשודה - נמנעה מקנס של 50,000 ₪ 🛡️",
      "דוד (65) סיכל רכישת מוצר 'פרימיום' בהנחה 80% - זיהינו רמאות 🎯",
      "שרה (70) עצרה השקעה בנדל״ן במיקום לא בטוח - הימנעה מהפסד גדול 🏠",
      "משה (68) הונע להשקעה בקריפטו - הציל את כל חסכונותיו 💎",
      "יעל (75) זיהתה הצעה לפנסיה 'מיוחדת' - שמרה על 220,000 ₪ 🏦",
      "אבי (69) קיבל הלוואה בריבית משתנה - עצר בזמן האחרון ⏰",
      "נועה (74) פגשה 'יועץ השקעות' חשוד - נמנעה מהונאה של 150,000 ₪ 📈",
      "יצחק (71) עמד בפני עסקת זהב 'חד פעמית' - זיהינו את המלכודת 🥇",
      "מיכל (73) קיבלה הודעה על זכייה בפרס - הבינה שזו הונאה 🎁",
      "אהרון (76) הוצע לו ביטוח חיים 'מיוחד' - חסך 80,000 ₪ 📋",
      "תמר (69) נפגשה עם 'נציג בנק' - גילינו שזה רמאי 🏛️"
    ];

    function getRandomItems(arr, count) {
      const _arr = [...arr];
      const res = [];
      for (let i = 0; i < count && _arr.length; i++) {
        const idx = Math.floor(Math.random() * _arr.length);
        res.push(_arr.splice(idx, 1)[0]);
      }
      return res;
    }

    // Display random cases with animation
    const list = document.getElementById('casesList');
    const selectedCases = getRandomItems(allCases, 4);
    
    selectedCases.forEach((text, index) => {
      setTimeout(() => {
        const li = document.createElement('li');
        li.textContent = text;
        li.style.opacity = '0';
        li.style.transform = 'translateX(50px)';
        list.appendChild(li);
        
        // Animate in
        requestAnimationFrame(() => {
          li.style.transition = 'all 0.5s ease';
          li.style.opacity = '1';
          li.style.transform = 'translateX(0)';
        });
      }, index * 200);
    });

    // Enhanced captcha setup
    const captchaValues = [
      { value: 'heart', icon: '❤️' },
      { value: 'flower', icon: '🌸' },
      { value: 'star', icon: '⭐' },
    ];

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    shuffleArray(captchaValues);
    const captchaElement = document.getElementById('captcha');
    let isVerified = false;

    // Take only 3 random items for the captcha
    const displayedCaptcha = captchaValues.slice(0, 3);
    
    displayedCaptcha.forEach(item => {
      const span = document.createElement('span');
      span.className = 'captcha-icon';
      span.textContent = item.icon;
      span.setAttribute('role', 'button');
      span.tabIndex = 0;
      span.dataset.value = item.value;
      span.setAttribute('aria-pressed', 'false');
      span.title = `לחץ על ${item.icon}`;
      
      const clickHandler = () => {
        if (item.value === 'heart') {
          isVerified = true;
          span.setAttribute('aria-pressed', 'true');
          document.getElementById('submitBtn').disabled = false;
          
          // Reset other icons
          displayedCaptcha.forEach(otherItem => {
            if (otherItem.value !== 'heart') {
              const otherSpan = captchaElement.querySelector(`[data-value="${otherItem.value}"]`);
              if (otherSpan) {
                otherSpan.setAttribute('aria-pressed', 'false');
              }
            }
          });
        } else {
          // Wrong choice - show better feedback
          span.style.animation = 'none';
          span.offsetHeight; // Trigger reflow
          span.style.animation = 'shake 0.5s';
          
          setTimeout(() => {
            alert('אנא לחץ רק על סמל הלב ❤️ כדי לאשר שאתה לא רובוט.');
          }, 100);
        }
      };

      span.addEventListener('click', clickHandler);
      span.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          clickHandler();
        }
      });

      captchaElement.appendChild(span);
    });

    // Add shake animation
    const shakeStyle = document.createElement('style');
    shakeStyle.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
      }
    `;
    document.head.appendChild(shakeStyle);

    // Enhanced form submission with better UX
    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
// --- בדיקת שם מלא ומספר טלפון חוקי בישראל ---
const nameValue = nameInput.value.trim();
const rawPhone = phoneInput.value.trim().replace(/[-\s]/g, '');
const phoneRegex = /^0?5\d{8}$/;  // פורמט ישראלי: 05X + 8 ספרות
if (nameValue.length < 2 || !phoneRegex.test(rawPhone)) {
  alert('נא להזין שם מלא (לפחות 2 תווים) ומספר טלפון חוקי בישראל');
  return;  // מונע המשך השליחה
}
// --- סוף הבדיקה ---
      
      if (!isVerified) {
        alert('אנא אשר שאתה לא רובוט על ידי לחיצה על סמל הלב ❤️');
        return;
      }

      const submitBtn = document.getElementById('submitBtn');
      const submitText = document.getElementById('submitText');
      const originalText = submitText.textContent;

      // Show loading state
      submitBtn.disabled = true;
      submitText.innerHTML = '<span class="loading"></span> שולח...';

      const formData = new FormData(e.target);
      const payload = {
        content: `**🚨 פנייה חדשה למניעת הונאות 🚨**
**שם:** ${formData.get('name')}
**טלפון:** ${formData.get('phone')}
**אימייל:** ${formData.get('email') || 'לא סופק'}
**פרטי ההצעה החשודה:**
${formData.get('details')}

**זמן קבלת הפנייה:** ${new Date().toLocaleString('he-IL')}`
      };

      try {
        const response = await fetch(
          'https://discord.com/api/webhooks/1375947320763613244/kDh-mq9mDA8A7brxRmz-zzVyOovxGYlxTTTTr3OZC58HxxFMZPc5anydI6FN981zxIb2',
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          }
        );

        if (response.ok) {
          // Success animation
          submitText.textContent = '✅ נשלח בהצלחה!';
          submitBtn.style.background = 'linear-gradient(45deg, #10b981, #059669)';
          
          // Show success message
          const successMessage = document.createElement('div');
          successMessage.innerHTML = `
            <div style="background: linear-gradient(45deg, #10b981, #059669); color: white; padding: 1rem; border-radius: 12px; text-align: center; margin-top: 1rem; box-shadow: var(--shadow-lg);">
              <h3>🎉 הפנייה נשלחה בהצלחה!</h3>
              <p>נחזור אליכם בהקדם האפשרי לייעוץ חינמי</p>
            </div>
          `;
          e.target.appendChild(successMessage);
          
          // Reset form after delay
          setTimeout(() => {
            e.target.reset();
            isVerified = false;
            submitBtn.disabled = true;
            submitText.textContent = originalText;
            submitBtn.style.background = '';
            successMessage.remove();
            
            // Reset captcha
            captchaElement.querySelectorAll('.captcha-icon').forEach(icon => {
              icon.setAttribute('aria-pressed', 'false');
            });
          }, 3000);
          
        } else {
          throw new Error('שגיאה בשליחה');
        }
      } catch (error) {
        console.error('Error:', error);
        submitText.textContent = '❌ שגיאה בשליחה';
        submitBtn.style.background = 'linear-gradient(45deg, #ef4444, #dc2626)';
        
        setTimeout(() => {
          submitText.textContent = originalText;
          submitBtn.style.background = '';
          submitBtn.disabled = false;
        }, 2000);
        
        alert('אירעה שגיאה בשליחה. אנא נסה שוב מאוחר יותר או צור קשר טלפונית.');
      }
    });

    // Form validation with real-time feedback
    const nameInput = document.getElementById('name');
    const phoneInput = document.getElementById('phone');
    const detailsInput = document.getElementById('details');

    function validateField(field, validationFn, errorMessage) {
      field.addEventListener('blur', () => {
        if (!validationFn(field.value)) {
          field.style.borderColor = '#ef4444';
          if (!field.nextElementSibling || !field.nextElementSibling.classList.contains('error-message')) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.style.color = '#ef4444';
            errorDiv.style.fontSize = '0.875rem';
            errorDiv.style.marginTop = '0.25rem';
            errorDiv.textContent = errorMessage;
            field.parentNode.appendChild(errorDiv);
          }
        } else {
          field.style.borderColor = '#10b981';
          const errorDiv = field.parentNode.querySelector('.error-message');
          if (errorDiv) {
            errorDiv.remove();
          }
        }
      });
    }

    validateField(nameInput, (value) => value.trim().length >= 2, 'אנא הכניסו שם של לפחות 2 תווים');
    validateField(phoneInput, (value) => /^[\d\-\s\+\(\)]{9,}$/.test(value), 'אנא הכניסו מספר טלפון תקין');
    validateField(detailsInput, (value) => value.trim().length >= 10, 'אנא תארו את ההצעה בפירוט (לפחות 10 תווים)');

    // Smooth scrolling for better UX
    function smoothScrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Add keyboard navigation for captcha
    captchaElement.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        e.preventDefault();
        const icons = Array.from(captchaElement.querySelectorAll('.captcha-icon'));
        const currentIndex = icons.indexOf(document.activeElement);
        
        if (currentIndex !== -1) {
          const nextIndex = e.key === 'ArrowRight' 
            ? (currentIndex + 1) % icons.length 
            : (currentIndex - 1 + icons.length) % icons.length;
          icons[nextIndex].focus();
        }
      }
    });

    // Add loading states for better perceived performance
    window.addEventListener('load', () => {
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.5s ease';
      
      requestAnimationFrame(() => {
        document.body.style.opacity = '1';
      });
    });

    // Enhanced accessibility features
    const accessibilityMenu = document.querySelector('.accessibility-menu');
    
    accessibilityMenu.addEventListener('click', (e) => {
      const option = e.target.textContent;
      
      switch(true) {
        case option.includes('הגדלת גופן'):
          document.documentElement.style.fontSize = '1.1rem';
          break;
        case option.includes('הקטנת גופן'):
          document.documentElement.style.fontSize = '0.9rem';
          break;
        case option.includes('ניגודיות גבוהה'):
          document.body.style.filter = 'contrast(150%)';
          break;
        case option.includes('היפוך צבעים'):
          document.body.style.filter = 'invert(1) hue-rotate(180deg)';
          break;
        case option.includes('מצב לילה'):
          document.body.style.filter = 'invert(1) hue-rotate(180deg) brightness(0.8)';
          break;
        case option.includes('איפוס הכל'):
          // Reset all accessibility modifications
          document.body.style.filter = '';
          document.documentElement.style.fontSize = '';
          document.documentElement.style.lineHeight = '';
          // Show confirmation
          alert('כל הגדרות הנגישות אופסו');
          break;
        default:
          // Reset all filters for other unhandled options
          document.body.style.filter = '';
          document.documentElement.style.fontSize = '';
      }
      
      // Close menu after selection
      document.getElementById('accWrap').classList.remove('open');
    });
  </script>
</body>
</html>
